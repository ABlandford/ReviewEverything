{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marisollllllll\\\\Desktop\\\\ReviewEverything\\\\ReviewEverything\\\\font-end\\\\review_everything\\\\src\\\\App.js\";\nimport React, { Component, useImperativeHandle } from 'react';\nimport { BrowserRouter as Router, Switch, Route, useHistory, Redirect } from 'react-router-dom';\nimport StarRatingComponent from 'react-star-rating-component';\nimport './App.css';\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nconst App = () => {\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(Home, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }))));\n};\n\nexport default App;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      pasword: \"\",\n      redirect: null\n    };\n    this.emailUpdate = this.emailUpdate.bind(this);\n    this.passcodeUpdate = this.passcodeUpdate.bind(this);\n    this.checkLogin = this.checkLogin.bind(this);\n    this.state = {\n      apiResponse: \"\",\n      valueReview: \"\",\n      valueRating: 0,\n      email: \"\",\n      pasword: \"\",\n      movieId: 0,\n      userId: \"\",\n      username: \"\"\n    };\n  }\n\n  emailUpdate(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  passcodeUpdate(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  checkR(event) {\n    event.preventDefault();\n    const data = {\n      email: this.state.email,\n      password: this.state.password\n    }; // fetch(\"http://localhost:9000/test\", {\n    //   method: 'GET'\n    // })\n    //   .then(response => response.text())\n    //   .then(text => {\n    //     // console.log(text);\n    //     console.log(data)\n    //     this.setState({ apiResponse: text });\n    //   })\n\n    fetch('http://localhost:9000/test/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(json => {\n      if (json.status === true) {\n        console.log('Login status: ' + json.status);\n        console.log(json.user);\n        cookies.set('currentUser', JSON.stringify(json.user), {\n          path: '/'\n        });\n        this.setState({\n          redirect: '/home'\n        });\n      } else {\n        console.log('Login status: ' + json.status);\n        console.log('The information you entered was incorrect. See status message below.');\n        console.log(json.statusMessage);\n        alert(json.statusMessage);\n      }\n    });\n  }\n\n  checkLogin(event) {\n    event.preventDefault();\n    const data = {\n      email: this.state.email,\n      password: this.state.password\n    }; // fetch(\"http://localhost:9000/test\", {\n    //   method: 'GET'\n    // })\n    //   .then(response => response.text())\n    //   .then(text => {\n    //     // console.log(text);\n    //     console.log(data)\n    //     this.setState({ apiResponse: text });\n    //   })\n\n    fetch('http://localhost:9000/test/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(json => {\n      if (json.status === true) {\n        console.log('Login status: ' + json.status);\n        console.log(json.user);\n        cookies.set('currentUser', JSON.stringify(json.user), {\n          path: '/'\n        });\n        this.setState({\n          redirect: '/home'\n        });\n      } else {\n        console.log('Login status: ' + json.status);\n        console.log('The information you entered was incorrect. See status message below.');\n        console.log(json.statusMessage);\n        alert(json.statusMessage);\n      }\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: this.state.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"form\", {\n      onSubmit: this.checkLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Email: \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.emailUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.passcodeUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Log In\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })));\n  }\n\n} // export default Login;\n\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      valueReview: \"\",\n      valueRating: 0,\n      loggedin: true,\n      user: {},\n      searchTitle: \"\",\n      searchDescription: \"\",\n      searchImage: \"\",\n      search: \"\",\n      actor: \"\",\n      searchId: 0,\n      email: \"\",\n      userId: \"\",\n      username: \"\",\n      genre: 28\n    };\n    this.submitReview = this.submitReview.bind(this);\n    this.changeRating = this.changeRating.bind(this);\n    this.changeReview = this.changeReview.bind(this);\n    this.changeSearch = this.changeSearch.bind(this);\n    this.changeActor = this.changeActor.bind(this);\n    this.changeGenre = this.changeGenre.bind(this);\n    this.getData = this.getData.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  changeReview(event) {\n    this.setState({\n      valueReview: event.target.value,\n      username: this.state.email,\n      userId: this.state.userId\n    });\n  }\n\n  changeRating(event) {\n    this.setState({\n      valueRating: event.target.value,\n      username: this.state.email,\n      userId: this.state.userId\n    });\n  }\n\n  changeSearch(event) {\n    this.setState({\n      search: event.target.value\n    });\n  }\n\n  changeActor(event) {\n    this.setState({\n      actor: event.target.value\n    });\n  }\n\n  changeGenre(event) {\n    this.setState({\n      genre: event.target.value\n    });\n    console.log(this.state.genre);\n  }\n\n  onStarClick(nextValue, prevValue, name) {\n    this.setState({\n      valueRating: nextValue\n    });\n  }\n\n  List(props) {\n    for (var index = 0; index < JSON.length; ++index) {\n      var animal = JSON[index];\n\n      if (animal.Name == \"dog\") {\n        hasMatch = true;\n        break;\n      }\n    }\n  }\n\n  submitReview(event) {\n    event.preventDefault();\n    const data = {\n      userId: this.state.user.userId,\n      userfname: this.state.user.fname,\n      userlname: this.state.user.lname,\n      review: this.state.valueReview,\n      rating: this.state.valueRating,\n      movieId: this.state.searchId,\n      email: this.state.email,\n      username: this.state.user.email\n    };\n    fetch('http://localhost:9000/test/submitReview', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n  }\n\n  getData(event) {\n    event.preventDefault();\n    let url = `https://api.themoviedb.org/3/search/movie?api_key=c4bf14506f6431c453952fcfa9057242&query=${this.state.search}&with_genres=${this.state.genre}`;\n    fetch(url, {\n      method: 'GET'\n    }).then(response => response.json()).then(json => {\n      this.setState({\n        searchTitle: json.results[0].title,\n        searchDescription: json.results[0].overview,\n        searchImage: json.results[0].poster_path,\n        searchId: json.results[0].id,\n        username: this.state.email,\n        userId: this.state.userId\n      });\n    });\n    console.log(this.state.search + \"*****\");\n  }\n\n  getDataActor(event) {\n    event.preventDefault();\n    let url = `https://api.themoviedb.org/3/search/person?api_key=c4bf14506f6431c453952fcfa9057242&query=${this.state.actor}`;\n    fetch(url, {\n      method: 'GET'\n    }).then(response => response.json()).then(json => {\n      this.setState({\n        searchTitle: json.results[0].title,\n        searchDescription: json.results[0].overview,\n        searchImage: json.results[0].poster_path,\n        searchId: json.results[0].id,\n        username: this.state.email,\n        userId: this.state.userId\n      });\n    });\n    console.log(this.state.actor + \"*****\");\n  }\n\n  logout() {\n    cookies.remove('currentUser');\n    this.setState({\n      loggedin: false\n    });\n  }\n\n  componentDidMount() {\n    let currentUser = cookies.get('currentUser');\n    this.setState({\n      user: {\n        fname: currentUser.fname,\n        lname: currentUser.lname,\n        userId: currentUser._id\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Welcome home user!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Welcome home \", this.state.user.fname, \"!\"), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Search by Title\"), React.createElement(\"form\", {\n      onSubmit: this.getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"input\", {\n      placeholder: \"Search for Movies\",\n      onChange: this.changeSearch,\n      value: this.state.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, this.state.searchTitle), React.createElement(\"img\", {\n      src: \"http://image.tmdb.org/t/p/w185/\" + this.state.searchImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, this.state.searchDescription), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }), React.createElement(\"renderReviews\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      onSubmit: this.submitReview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"What do think of movie? \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.valueReview,\n      onChange: this.changeReview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(StarRatingComponent, {\n      name: \"starSystem\",\n      id: \"stars\",\n      value: this.state.valueRating,\n      starCount: 5,\n      onStarClick: this.onStarClick.bind(this),\n      onChange: this.changeRating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        this.logout();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"Logout\")));\n  }\n\n} // export default Home;","map":{"version":3,"sources":["C:/Users/Marisollllllll/Desktop/ReviewEverything/ReviewEverything/font-end/review_everything/src/App.js"],"names":["React","Component","useImperativeHandle","BrowserRouter","Router","Switch","Route","useHistory","Redirect","StarRatingComponent","Cookies","cookies","App","Login","constructor","props","state","email","pasword","redirect","emailUpdate","bind","passcodeUpdate","checkLogin","apiResponse","valueReview","valueRating","movieId","userId","username","event","setState","target","value","password","checkR","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","response","json","status","console","log","user","set","path","statusMessage","alert","render","Home","loggedin","searchTitle","searchDescription","searchImage","search","actor","searchId","genre","submitReview","changeRating","changeReview","changeSearch","changeActor","changeGenre","getData","logout","onStarClick","nextValue","prevValue","name","List","index","length","animal","Name","hasMatch","userfname","fname","userlname","lname","review","rating","url","results","title","overview","poster_path","id","getDataActor","remove","componentDidMount","currentUser","get","_id"],"mappings":"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","sourcesContent":["import React, { Component, useImperativeHandle } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, useHistory, Redirect } from 'react-router-dom';\r\nimport StarRatingComponent from 'react-star-rating-component';\r\n\r\n\r\nimport './App.css';\r\nimport Cookies from 'universal-cookie'\r\nconst cookies = new Cookies();\r\n\r\nconst App = () => {\r\n\r\n\r\n  return (\r\n \r\n    <Router>\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <Login/>\r\n        </Route>\r\n        <Route path='/home'>\r\n          <Home/>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nclass Login extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { email: \"\", pasword: \"\", redirect: null };\r\n    this.emailUpdate = this.emailUpdate.bind(this);\r\n    this.passcodeUpdate = this.passcodeUpdate.bind(this);\r\n    this.checkLogin = this.checkLogin.bind(this);\r\n    this.state = { apiResponse: \"\", valueReview: \"\", valueRating: 0, email: \"\", pasword: \"\", movieId: 0, userId: \"\", username: \"\"};\r\n  }\r\n\r\n  emailUpdate(event) {\r\n    this.setState({email : event.target.value})\r\n  }\r\n  \r\n  passcodeUpdate(event) {\r\n    this.setState({password : event.target.value})\r\n  }\r\n\r\n  checkR(event) {\r\n    event.preventDefault();\r\n    const data = { email: this.state.email, password: this.state.password }\r\n    \r\n   \r\n    // fetch(\"http://localhost:9000/test\", {\r\n    //   method: 'GET'\r\n    // })\r\n    //   .then(response => response.text())\r\n    //   .then(text => {\r\n    //     // console.log(text);\r\n    //     console.log(data)\r\n    //     this.setState({ apiResponse: text });\r\n    //   })\r\n\r\n\r\n    fetch('http://localhost:9000/test/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        if(json.status === true) {\r\n          console.log('Login status: ' + json.status);\r\n          console.log(json.user); \r\n          cookies.set('currentUser', JSON.stringify(json.user), {path: '/'});\r\n          this.setState({ redirect: '/home' })\r\n        } else {\r\n          console.log('Login status: ' +  json.status);\r\n          console.log('The information you entered was incorrect. See status message below.');\r\n          console.log(json.statusMessage);\r\n          alert(json.statusMessage); \r\n        }\r\n      })\r\n  }\r\n\r\n  \r\n  checkLogin(event) {\r\n    event.preventDefault();\r\n    const data = { email: this.state.email, password: this.state.password }\r\n    \r\n   \r\n    // fetch(\"http://localhost:9000/test\", {\r\n    //   method: 'GET'\r\n    // })\r\n    //   .then(response => response.text())\r\n    //   .then(text => {\r\n    //     // console.log(text);\r\n    //     console.log(data)\r\n    //     this.setState({ apiResponse: text });\r\n    //   })\r\n\r\n\r\n    fetch('http://localhost:9000/test/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        if(json.status === true) {\r\n          console.log('Login status: ' + json.status);\r\n          console.log(json.user); \r\n          cookies.set('currentUser', JSON.stringify(json.user), {path: '/'});\r\n          this.setState({ redirect: '/home' })\r\n        } else {\r\n          console.log('Login status: ' +  json.status);\r\n          console.log('The information you entered was incorrect. See status message below.');\r\n          console.log(json.statusMessage);\r\n          alert(json.statusMessage); \r\n        }\r\n      })\r\n  }\r\n  \r\n  \r\n  \r\n  render() {\r\n    if(this.state.redirect) { \r\n      return <Redirect to={ this.state.redirect }/> \r\n    }\r\n    return(\r\n      <div>\r\n        <h1>Sign In</h1>\r\n          <form onSubmit={this.checkLogin}>\r\n            <label>Email: </label><input type='text' value={this.state.email} onChange={this.emailUpdate}></input><br/>\r\n            <label>Password: </label><input type='password' value={this.state.password} onChange={this.passcodeUpdate}></input><br/>\r\n            <input type='submit' value='Log In'></input>\r\n          </form>\r\n          {/* <form onSubmit={this.hashPasswords}>\r\n           <input type='submit' value='Hash Passwords'/>\r\n         </form> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default Login;\r\n\r\nclass Home extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { valueReview: \"\", valueRating: 0, loggedin: true, user: {}, searchTitle: \"\", searchDescription: \"\", searchImage: \"\", search: \"\", actor: \"\", searchId: 0, email:\"\", userId: \"\", username:\"\", genre: 28, };\r\n    this.submitReview = this.submitReview.bind(this);\r\n    this.changeRating = this.changeRating.bind(this);\r\n    this.changeReview = this.changeReview.bind(this);\r\n    this.changeSearch = this.changeSearch.bind(this);\r\n    this.changeActor = this.changeActor.bind(this); \r\n    this.changeGenre = this.changeGenre.bind(this); \r\n    this.getData = this.getData.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n  changeReview(event) {\r\n    this.setState({valueReview : event.target.value, username: this.state.email, userId: this.state.userId})\r\n  }\r\n\r\n  changeRating(event) {\r\n    this.setState({valueRating : event.target.value, username: this.state.email, userId: this.state.userId})\r\n  }\r\n  \r\n  changeSearch(event) {\r\n    this.setState({search : event.target.value})\r\n  }\r\n\r\n    \r\n  changeActor(event) {\r\n    this.setState({actor : event.target.value})\r\n  }\r\n\r\n  changeGenre(event) {\r\n    this.setState({genre : event.target.value})\r\n    console.log(this.state.genre)\r\n  }\r\n\r\n    onStarClick(nextValue, prevValue, name) {\r\n    this.setState({valueRating: nextValue});\r\n  }\r\n\r\n  List(props) {\r\n    for (var index = 0; index < JSON.length; ++index) {\r\n\r\n      var animal = JSON[index];\r\n     \r\n      if(animal.Name == \"dog\"){\r\n        hasMatch = true;\r\n        break;\r\n      }\r\n     }\r\n  }\r\n  \r\n  submitReview(event) {\r\n    event.preventDefault();\r\n\r\n    const data = { userId: this.state.user.userId, userfname: this.state.user.fname, userlname: this.state.user.lname, review: this.state.valueReview, rating: this.state.valueRating, movieId: this.state.searchId, email: this.state.email, username: this.state.user.email }\r\n    \r\n    fetch('http://localhost:9000/test/submitReview', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n  }\r\n\r\n  getData(event){\r\n    event.preventDefault(); \r\n  \r\n    let url = `https://api.themoviedb.org/3/search/movie?api_key=c4bf14506f6431c453952fcfa9057242&query=${this.state.search}&with_genres=${this.state.genre}`;\r\n\r\n    fetch(url, {\r\n        method: 'GET'\r\n    })\r\n\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        this.setState ( {\r\n            searchTitle: json.results[0].title,\r\n            searchDescription: json.results[0].overview, \r\n            searchImage: json.results[0].poster_path, \r\n            searchId: json.results[0].id, \r\n            username: this.state.email,\r\n            userId: this.state.userId\r\n });\r\n        \r\n    });\r\n    console.log(this.state.search+\"*****\")\r\n  }\r\n\r\n \r\n  getDataActor(event){\r\n    event.preventDefault(); \r\n  \r\n    let url = `https://api.themoviedb.org/3/search/person?api_key=c4bf14506f6431c453952fcfa9057242&query=${this.state.actor}`;\r\n\r\n    fetch(url, {\r\n        method: 'GET'\r\n    })\r\n\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        this.setState ( {\r\n            searchTitle: json.results[0].title,\r\n            searchDescription: json.results[0].overview, \r\n            searchImage: json.results[0].poster_path, \r\n            searchId: json.results[0].id, \r\n            username: this.state.email,\r\n            userId: this.state.userId, \r\n });\r\n        \r\n    });\r\n    console.log(this.state.actor+\"*****\")\r\n  }\r\n\r\n  logout() {\r\n    cookies.remove('currentUser');\r\n    this.setState({ loggedin: false })\r\n  }\r\n\r\n  componentDidMount() {\r\n    let currentUser = cookies.get('currentUser');\r\n    this.setState({ user: { fname: currentUser.fname, lname: currentUser.lname, userId: currentUser._id } });\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <h1>Home</h1>\r\n          <p>Welcome home user!</p>\r\n          <p>Welcome home {this.state.user.fname}!</p>\r\n        <section>\r\n        <h4>Search by Title</h4>\r\n          <form onSubmit={this.getData}>\r\n            <label>Search</label><input placeholder=\"Search for Movies\" onChange={this.changeSearch} value={this.state.search}></input>\r\n            <h1>{this.state.searchTitle}</h1>\r\n            <img src={\"http://image.tmdb.org/t/p/w185/\" + this.state.searchImage}></img>\r\n            <p>{this.state.searchDescription}</p>\r\n            <input type='submit' value='Submit'></input>\r\n          <renderReviews/>\r\n          </form>\r\n{/* \r\n          <h4>Search by Actor</h4>\r\n          <form onSubmit={this.getDataActor}>\r\n            <label>Search</label><input placeholder=\"Search for Movies\" onChange={this.changeActor} value={this.state.actor}></input>\r\n            <input type='submit' value='Submit'></input>\r\n          </form>\r\n\r\n        <h4>Search by Genre</h4>\r\n        <form onSubmit={this.getData} >\r\n          <select \r\n              class=\"dropDown\"\r\n              value={this.state.genre}\r\n              onChange={this.changeGenre} \r\n              ><option value={27}>Horror</option>\r\n              <option value={10749}>Romance</option>\r\n              <option value={35}>Action</option>\r\n          </select>\r\n          <input type='submit' value='Submit'></input>\r\n        </form> */}\r\n\r\n            <form onSubmit={this.submitReview}>\r\n              <label>What do think of movie? </label><input type='text' value={this.state.valueReview} onChange={this.changeReview}></input><br/>\r\n            <StarRatingComponent \r\n                  name=\"starSystem\" \r\n                  id=\"stars\"\r\n                  value={this.state.valueRating}\r\n                  starCount={5}\r\n                  onStarClick={this.onStarClick.bind(this)}\r\n                  onChange = {this.changeRating}\r\n            />\r\n            <input type='submit' value='Submit'></input>\r\n            </form>\r\n        </section>\r\n        <section>\r\n          <button onClick = {() => {\r\n            this.logout();\r\n          }}>Logout</button>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default Home;\r\n"]},"metadata":{},"sourceType":"module"}